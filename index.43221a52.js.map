{"mappings":"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","sources":["src/libs/select.js"],"sourcesContent":["!(function (name, definition) {\r\n  if (typeof define === 'function') {\r\n      define(name, definition);\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n      module.exports = definition();\r\n  } else {\r\n      this[name] = definition();\r\n  }\r\n}('Select', function () {\r\n  'use strict';\r\n\r\n  class Component {\r\n\r\n      constructor(props) {\r\n          this.props = props || {};\r\n          this.state = {};\r\n          this.refs = {};\r\n          this.$disposables = {\r\n              mounted: [],\r\n              updated: []\r\n          };\r\n      }\r\n\r\n      $defer(stage, dispose) {\r\n          this.$disposables[stage].push(dispose);\r\n      }\r\n\r\n      $dispose(stage) {\r\n          this.$disposables[stage].reverse().forEach(dispose => dispose());\r\n          this.$disposables[stage].length = 0;\r\n      }\r\n\r\n      componentMount(ctx) {\r\n          this.$el && this.componentUnmount();\r\n          this.componentWillMount();\r\n          this.$el = (ctx && ctx.el) || document.createElement('div');\r\n          this.$defer('mounted', () => {\r\n              this.$el.innerHTML = '';\r\n          this.$el = null;\r\n      });\r\n          this.forceUpdate();\r\n          this.componentDidMount();\r\n          return this;\r\n      }\r\n\r\n      componentWillMount() {}\r\n\r\n      componentDidMount() {}\r\n\r\n      componentUnmount() {\r\n          this.componentWillUnmount();\r\n          this.$dispose('mounted');\r\n          this.componentDidUnmount();\r\n          return this;\r\n      }\r\n\r\n      componentWillUnmount() {}\r\n\r\n      componentDidUnmount() {}\r\n\r\n      setState(updater, callback) {\r\n          let prevState = this.state;\r\n          let nextState = typeof updater == 'function' ? updater(prevState, this.props) : updater;\r\n          this.state = Object.assign(prevState, nextState);\r\n          if (this.shouldComponentUpdate(prevState, nextState)) {\r\n              this.forceUpdate();\r\n          }\r\n          callback && callback.call(this);\r\n          return this;\r\n      }\r\n\r\n      forceUpdate() {\r\n          this.componentUpdate(this.props, this.state);\r\n          return this;\r\n      }\r\n\r\n      shouldComponentUpdate(prevState, nextState) {\r\n          return prevState !== nextState;\r\n      }\r\n\r\n      componentUpdate(props, state) {\r\n          if (this.$el) {\r\n              this.componentWillUpdate(props, state);\r\n              this.$dispose('updated');\r\n              this.$el.innerHTML = this.render(props, state);\r\n              this.refs = Array.from(this.$el.querySelectorAll('[ref]')).reduce(function (refs, node) {\r\n                  return (refs[node.getAttribute('ref')] = node), refs;\r\n              }, {});\r\n              this.componentDidUpdate(props, state);\r\n          }\r\n      }\r\n\r\n      componentWillUpdate(props, state) {}\r\n\r\n      render(props, state) {\r\n          return '';\r\n      }\r\n\r\n      componentDidUpdate(props, state) {}\r\n  }\r\n\r\n  class Select extends Component {\r\n      constructor(props) {\r\n          super(props);\r\n          this.state = {\r\n              placeholder: this.props.placeholder || '',\r\n              expanded: false\r\n          };\r\n          this.onDocumentClick = this.onDocumentClick.bind(this);\r\n          this.onComponentClick = this.onComponentClick.bind(this);\r\n          this.onToolboxClick = this.onToolboxClick.bind(this);\r\n          this.search = new Search(Object.assign({}, this.props, {\r\n              onSelected: selected => {\r\n                  this.props.onSelected && this.props.onSelected(selected);\r\n                  this.setState(prevState => ({\r\n                      placeholder: selected.text || selected.value,\r\n                      selected: selected,\r\n                      expanded: false\r\n                  }));\r\n              }\r\n          }));\r\n      }\r\n\r\n      onDocumentClick(event) {\r\n          this.setState(prevState => ({\r\n              expanded: false\r\n          }));\r\n      }\r\n\r\n      onComponentClick(event) {\r\n          event.stopPropagation();\r\n      }\r\n\r\n      onToolboxClick(event) {\r\n          this.setState(prevState => ({\r\n              expanded: !prevState.expanded\r\n          }), () => {\r\n              if (this.state.expanded) {\r\n                  this.search.refs.query.focus();\r\n              }\r\n          });\r\n      }\r\n\r\n      render(props, state) {\r\n          return `<div class=\"select__box\">\r\n                  <div ref=\"toolbox\" class=\"select__toolbox\">\r\n                      <i class=\"select__arrow\" aria-hidden=\"true\"></i>\r\n                      <div class=\"select__label\">${state.placeholder}</div>\r\n                  </div>\r\n                  <div ref=\"dropdown\" class=\"select__dropdown ${ state.expanded ? \"select__dropdown--show\" : \"\" }\"></div>\r\n              </div>`;\r\n      }\r\n\r\n      componentDidMount() {\r\n          document.body.addEventListener('click', this.onDocumentClick);\r\n          this.$defer('mounted', () => document.body.removeEventListener('click', this.onDocumentClick));\r\n          this.$el.addEventListener('click', this.onComponentClick);\r\n          this.$defer('mounted', () => this.$el.removeEventListener('click', this.onComponentClick));\r\n      }\r\n\r\n      componentDidUnmount() {\r\n          this.search.componentUnmount();\r\n      }\r\n\r\n      componentDidUpdate() {\r\n          const $toolbox = this.refs.toolbox;\r\n          $toolbox.addEventListener('click', this.onToolboxClick);\r\n          this.$defer('updated', () => $toolbox.removeEventListener('click', this.onToolboxClick));\r\n          this.search.componentMount({\r\n              el: this.refs.dropdown\r\n          });\r\n      }\r\n  }\r\n\r\n  class Search extends Component {\r\n      constructor(props) {\r\n          super(props);\r\n          this.state = {\r\n              query: \"\",\r\n              dataset: this.props.dataset || [],\r\n              selected: this.props.selected\r\n          };\r\n          this.onQueryChanged = this.onQueryChanged.bind(this);\r\n          this.onItemClicked = this.onItemClicked.bind(this);\r\n      }\r\n\r\n      onQueryChanged(event) {\r\n          const query = event.target.value;\r\n          const match = new RegExp(query, 'gi');\r\n          const dataset = (this.props.dataset || []).filter(item => match.test(item.text || item.value || ''));\r\n          this.setState(prevState => ({\r\n              query: query,\r\n              dataset: dataset\r\n          }));\r\n      }\r\n\r\n      onItemClicked(event) {\r\n          const index = event.target.closest('li').dataset.index;\r\n          const selected = this.state.dataset[index];\r\n          this.props.onSelected && this.props.onSelected(selected);\r\n          this.setState(prevState => ({\r\n              selected: selected\r\n          }));\r\n      }\r\n\r\n      render(props, state) {\r\n          if (state.dataset.length === 0) {\r\n              return `<input ref=\"query\" type=\"text\" value=\"${state.query}\" class=\"select__query\">\r\n                  <span class=\"select__query_noresult\">No results found</span>`;\r\n          }\r\n          return `<input ref=\"query\" type=\"text\" value=\"${state.query}\" class=\"select__query\">\r\n                  <ul ref=\"list\" class=\"select__list\">\r\n                      ${ state.dataset.map(function(item, index){\r\n                              return `\r\n                                  <li class=\"select__item ${item === state.selected ? \"select__item--selected\" : \"\"}\" data-index=\"${index}\" data-value=\"${item.value || item.text}\">\r\n                                      <i class=\"select__item_icon fa ${item.icon || ''}\" aria-hidden=\"true\"></i>\r\n                                      <span class=\"select__item_text\">${item.text || item.value}</span>\r\n                                  </li>`;\r\n                  }).join('') }\r\n                  </ul>`;\r\n      }\r\n\r\n      componentDidUpdate() {\r\n          const $query = this.refs.query;\r\n          $query.addEventListener('change', this.onQueryChanged);\r\n          this.$defer('updated', () => $query.removeEventListener('change', this.onQueryChanged));\r\n          const $list = this.refs.list;\r\n          $list.addEventListener('click', this.onItemClicked);\r\n          this.$defer('updated', () => $list.removeEventListener('click', this.onItemClicked));\r\n      }\r\n  }\r\n\r\n  return Select;\r\n}));\r\n\r\nconst source = [{\r\n      icon: 'fa-font',\r\n      value: 'Abril Fatface'\r\n    },\r\n    {\r\n      icon: 'fa-font',\r\n      value: 'Allura'\r\n    },\r\n    {\r\n      icon: 'fa-font',\r\n      value: 'Amatic SC'\r\n    }];\r\n\r\nlet select = Array.from(document.querySelectorAll('[ref=\"select\"]')).map(el => {\r\n    return new Select({\r\n      placeholder: 'Select Font',\r\n      dataset: source,\r\n      onSelected: item => console.log(item)\r\n    }).componentMount({\r\n      el: el\r\n    });\r\n  });\r\n"],"names":[],"version":3,"file":"index.43221a52.js.map"}